import{u as Be,f as w,g as f,x as M,h as je,c as P,o as g,a as t,d as n,t as p,F as He,i as qe,q as R,w as u,D as c,k as Ge,l as _e,n as T,m as We,e as z,p as Je,j as Q,v as X}from"./index-Na7mEAWg.js";import{B as H,a as Y,b as Ke,c as d}from"./BaseModal-BXVtofVG.js";import{_ as Qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Xe={class:"reproduccion-container"},Ye={class:"surface-panel"},Ze={class:"header-section"},ea={class:"header-stats"},aa={class:"stat-item"},oa={class:"stat-value"},ta={class:"stat-item"},ia={class:"stat-value"},sa={class:"stat-item"},la={class:"stat-value"},ra={class:"surface-panel"},na={class:"tabs-container"},ca={class:"tabs-header"},da=["onClick"],ua={class:"tab-content"},pa={key:0,class:"tab-panel"},ma={key:1,class:"tab-panel"},va={key:2,class:"tab-panel"},ha={class:"table-filters"},ba={class:"animal-info"},fa={class:"animal-name"},ga={class:"animal-id"},Ca={key:1,class:"no-date"},ya=["onClick"],ka=["onClick"],Pa=["onClick"],Sa={class:"surface-panel"},Va={class:"cria-info"},wa={class:"cria-name"},Da={class:"cria-details"},xa={class:"weight-badge"},Ma=["onClick"],Ra=["onClick"],za={__name:"ReproduccionView",setup(Na){const{token:Z}=Be(),{pushToast:v}=_e(),L=w(!0),q=w(!0),S=w(!1),D=w("servicio"),I=w(""),O=w(""),h=w([]),N=w([]),A=w([]),b=f(()=>new Date().toISOString().split("T")[0]),ee=f(()=>A.value.filter(o=>o.sexo==="H").map(o=>({value:o.id,label:`${o.nombre||`Animal ${o.id}`} - ${o.raza||"Sin raza"}`}))),ae=f(()=>h.value.filter(o=>o.tipo==="Servicio"&&!o.palpacionRealizada).map(o=>({value:o.idhembra,label:E(o.idhembra)}))),oe=f(()=>h.value.filter(o=>o.gestante&&!o.partoRealizado).map(o=>({value:o.idhembra,label:E(o.idhembra)}))),te=f(()=>{let o=h.value;return I.value&&(o=o.filter(e=>e.tipo.toLowerCase().includes(I.value.toLowerCase()))),O.value&&(o=o.filter(e=>{switch(O.value){case"pendiente":return e.estado==="Pendiente";case"positivo":return e.gestante;case"completado":return e.estado==="Completado";default:return!0}})),o}),ie=f(()=>h.value.filter(o=>o.gestante).length),se=f(()=>{const o=new Date,e=new Date;return e.setMonth(e.getMonth()+1),h.value.filter(a=>{if(!a.fechaParto||!a.gestante)return!1;const l=new Date(a.fechaParto);return l>=o&&l<=e}).length}),le=f(()=>N.value.filter(o=>!o.fechaDestete).length),re=f(()=>r.idhembra&&r.fecha&&r.tipoServicio),ne=f(()=>s.idhembra&&s.fecha&&s.resultado),ce=f(()=>i.idhembra&&i.fecha&&i.numeroCrias),de=[{id:"servicio",label:"Servicio",icon:"ServiceIcon"},{id:"palpacion",label:"Palpación",icon:"PalpationIcon"},{id:"parto",label:"Parto",icon:"BirthIcon"}],ue=[{value:"Natural",label:"Monta Natural"},{value:"IA",label:"Inseminación Artificial"},{value:"IATF",label:"IA a Tiempo Fijo"},{value:"Embriones",label:"Transferencia de Embriones"}],pe=[{value:"Positiva",label:"Positiva (Gestante)"},{value:"Negativa",label:"Negativa (Vacía)"},{value:"Dudosa",label:"Dudosa (Repetir)"}],me=[{value:"Normal",label:"Parto Normal"},{value:"Asistido",label:"Parto Asistido"},{value:"Cesarea",label:"Cesárea"},{value:"Distocico",label:"Parto Distócico"}],ve=[{value:"M",label:"Macho"},{value:"H",label:"Hembra"}],he=[{value:"Ninguna",label:"Sin Complicaciones"},{value:"Leve",label:"Complicaciones Leves"},{value:"Moderada",label:"Complicaciones Moderadas"},{value:"Grave",label:"Complicaciones Graves"}],r=M({idhembra:"",fecha:b.value,tipoServicio:"",macho:"",observaciones:"",fechaPalpacion:""}),C=M({idhembra:"",fecha:"",tipoServicio:""}),s=M({idhembra:"",fecha:b.value,resultado:"",fechaParto:"",observaciones:""}),y=M({idhembra:"",fecha:"",resultado:""}),i=M({idhembra:"",fecha:b.value,tipoParto:"Normal",numeroCrias:1,sexoCria:"",pesoCria:"",observaciones:"",complicaciones:"Ninguna"}),k=M({idhembra:"",fecha:"",numeroCrias:""}),U=M({open:!1}),be=[{key:"animal",label:"Animal"},{key:"fecha",label:"Fecha",sortable:!0},{key:"tipo",label:"Tipo",sortable:!0},{key:"estado",label:"Estado"},{key:"fechaEstimada",label:"Fecha Estimada"},{key:"observaciones",label:"Observaciones"}],fe=[{key:"madre",label:"Madre"},{key:"cria",label:"Cría"},{key:"edad",label:"Edad",sortable:!0},{key:"pesoActual",label:"Peso Actual"},{key:"estadoLactancia",label:"Estado"}];async function G(){L.value=!0;try{const o=Z.value,e=await Ge.list(o);A.value=e.map(a=>({id:a.idganado||a.id,nombre:a.nombreGanado||a.nombre,raza:a.raza,sexo:a.sexo})),await ge()}catch(o){v(o.message||"Error al cargar datos reproductivos","error")}finally{L.value=!1}}async function ge(){const o=[],e=A.value.filter(l=>l.sexo==="H").slice(0,8);for(let l=0;l<12;l++){const m=e[Math.floor(Math.random()*e.length)],V=new Date;V.setDate(V.getDate()-Math.floor(Math.random()*180));const J=Math.random();let x,F,B=!1,K=null;if(J<.4){if(x="Servicio",F=Math.random()>.3?"Pendiente":"Completado",Math.random()>.5){B=!0;const j=new Date(V);j.setDate(j.getDate()+280),K=j.toISOString().split("T")[0]}}else J<.7?(x="Palpación",F=Math.random()>.2?"Positiva":"Negativa",B=F==="Positiva"):(x="Parto",F="Completado");o.push({id:l+1,idhembra:(m==null?void 0:m.id)||1,idganado:(m==null?void 0:m.id)||1,fecha:V.toISOString().split("T")[0],tipo:x,estado:F,gestante:B,fechaEstimada:K,observaciones:`${x} registrado`,palpacionRealizada:x!=="Servicio"||Math.random()>.5,partoRealizado:x==="Parto"})}h.value=o.sort((l,m)=>new Date(m.fecha)-new Date(l.fecha));const a=[];for(let l=0;l<6;l++){const m=e[Math.floor(Math.random()*e.length)],V=new Date;V.setDate(V.getDate()-Math.floor(Math.random()*120)),a.push({id:l+1,idmadre:(m==null?void 0:m.id)||1,idcria:(l+1)*100,nombreCria:`Cría ${l+1}`,sexo:Math.random()>.5?"M":"H",fechaNacimiento:V.toISOString().split("T")[0],pesoNacimiento:(25+Math.random()*15).toFixed(1),pesoActual:(35+Math.random()*25).toFixed(1),fechaDestete:Math.random()>.7?null:new Date(V.getTime()+180*24*60*60*1e3).toISOString().split("T")[0]})}N.value=a,q.value=!1}function Ce(){return C.idhembra=r.idhembra?"":"Selecciona una hembra",C.fecha=r.fecha?"":"Ingresa la fecha",C.tipoServicio=r.tipoServicio?"":"Selecciona el tipo de servicio",!C.idhembra&&!C.fecha&&!C.tipoServicio}function ye(){return y.idhembra=s.idhembra?"":"Selecciona una hembra",y.fecha=s.fecha?"":"Ingresa la fecha",y.resultado=s.resultado?"":"Selecciona el resultado",!y.idhembra&&!y.fecha&&!y.resultado}function ke(){return k.idhembra=i.idhembra?"":"Selecciona una hembra",k.fecha=i.fecha?"":"Ingresa la fecha",k.numeroCrias=i.numeroCrias&&i.numeroCrias>0?"":"Ingresa el número de crías",!k.idhembra&&!k.fecha&&!k.numeroCrias}async function Pe(){if(Ce()){S.value=!0;try{const o={id:h.value.length+1,idhembra:parseInt(r.idhembra),idganado:parseInt(r.idhembra),fecha:r.fecha,tipo:"Servicio",estado:"Pendiente",gestante:!1,fechaEstimada:r.fechaPalpacion||null,observaciones:r.observaciones||"Servicio registrado",palpacionRealizada:!1,partoRealizado:!1};h.value.unshift(o),v("Servicio registrado exitosamente","success"),we()}catch(o){v(o.message||"Error al registrar servicio","error")}finally{S.value=!1}}}async function Se(){if(ye()){S.value=!0;try{const o={id:h.value.length+1,idhembra:parseInt(s.idhembra),idganado:parseInt(s.idhembra),fecha:s.fecha,tipo:"Palpación",estado:s.resultado,gestante:s.resultado==="Positiva",fechaEstimada:s.fechaParto||null,observaciones:s.observaciones||"Palpación realizada"};h.value.unshift(o);const e=h.value.find(a=>a.idhembra===parseInt(s.idhembra)&&a.tipo==="Servicio"&&!a.palpacionRealizada);e&&(e.palpacionRealizada=!0,e.gestante=s.resultado==="Positiva"),v("Palpación registrada exitosamente","success"),De()}catch(o){v(o.message||"Error al registrar palpación","error")}finally{S.value=!1}}}async function Ve(){if(ke()){S.value=!0;try{const o={id:h.value.length+1,idhembra:parseInt(i.idhembra),idganado:parseInt(i.idhembra),fecha:i.fecha,tipo:"Parto",estado:"Completado",gestante:!1,observaciones:i.observaciones||"Parto registrado"};if(h.value.unshift(o),i.complicaciones==="Ninguna"||i.complicaciones==="Leve"){const e={id:N.value.length+1,idmadre:parseInt(i.idhembra),idcria:o.id*100,nombreCria:`Cría ${o.id}`,sexo:i.sexoCria||"M",fechaNacimiento:i.fecha,pesoNacimiento:i.pesoCria||null,pesoActual:i.pesoCria||null,fechaDestete:null};N.value.unshift(e)}v("Parto registrado exitosamente","success"),xe()}catch(o){v(o.message||"Error al registrar parto","error")}finally{S.value=!1}}}function we(){Object.assign(r,{idhembra:"",fecha:b.value,tipoServicio:"",macho:"",observaciones:"",fechaPalpacion:""}),Object.assign(C,{idhembra:"",fecha:"",tipoServicio:""})}function De(){Object.assign(s,{idhembra:"",fecha:b.value,resultado:"",fechaParto:"",observaciones:""}),Object.assign(y,{idhembra:"",fecha:"",resultado:""})}function xe(){Object.assign(i,{idhembra:"",fecha:b.value,tipoParto:"Normal",numeroCrias:1,sexoCria:"",pesoCria:"",observaciones:"",complicaciones:"Ninguna"}),Object.assign(k,{idhembra:"",fecha:"",numeroCrias:""})}function Me(o){D.value="palpacion",s.idhembra=o.idhembra;const e=new Date(o.fecha);e.setDate(e.getDate()+60),s.fecha=e.toISOString().split("T")[0]}function Re(o){D.value="parto",i.idhembra=o.idhembra}function ze(){v("Generando reporte reproductivo...","info"),setTimeout(()=>{v("Reporte reproductivo generado exitosamente","success")},1500)}function Ne(o){v(`Ver historial reproductivo completo - Animal ${o.idhembra}`,"info")}function Fe(){v("Programar destete - Funcionalidad en desarrollo","info")}function Te(){U.open=!1}function Ie(o){v(`Actualizar peso de ${o.nombreCria}`,"info")}function Oe(o){confirm(`¿Realizar destete de ${o.nombreCria}?`)&&(o.fechaDestete=b.value,v("Destete realizado exitosamente","success"))}function E(o){const e=A.value.find(a=>a.id===o);return e?e.nombre||`Animal ${o}`:`Animal ${o}`}function $(o){if(!o)return"-";try{return new Date(o).toLocaleDateString("es-ES")}catch{return o}}function Ae(o){if(!o)return"";const e=new Date(o);return e.setDate(e.getDate()+45),e.toISOString().split("T")[0]}function Ee(o){return{Servicio:"type-service",Palpación:"type-palpation",Parto:"type-birth"}[o]||"type-other"}function Le(o){return{Pendiente:"status-pending",Positiva:"status-positive",Negativa:"status-negative",Completado:"status-completed"}[o]||"status-other"}function Ue(o){const l=new Date(o)-new Date,m=Math.ceil(l/(1e3*60*60*24));return m<=30&&m>=0}function _(o){const e=new Date(o),l=new Date-e;return Math.floor(l/(1e3*60*60*24))}function W(o){if(o.fechaDestete)return"Destetado";const e=_(o.fechaNacimiento);return e<60?"Lactancia Temprana":e<120?"Lactancia Media":"Listo para Destete"}function $e(o){const e=W(o);return{Destetado:"lactation-weaned","Lactancia Temprana":"lactation-early","Lactancia Media":"lactation-mid","Listo para Destete":"lactation-ready"}[e]||"lactation-other"}return je(()=>{G()}),(o,e)=>(g(),P("div",Xe,[t("section",Ye,[t("div",Ze,[e[26]||(e[26]=t("div",{class:"header-content"},[t("div",{class:"stat-chip"},"Ciclo reproductivo"),t("h1",{class:"hero-title"},"Gestión Reproductiva"),t("p",{class:"hero-subtitle"}," Controla servicios, gestaciones, partos y seguimiento de crías. Optimiza la reproducción de tu ganado. ")],-1)),t("div",ea,[t("div",aa,[t("span",oa,p(ie.value),1),e[23]||(e[23]=t("span",{class:"stat-label"},"Gestantes",-1))]),t("div",ta,[t("span",ia,p(se.value),1),e[24]||(e[24]=t("span",{class:"stat-label"},"Partos esperados",-1))]),t("div",sa,[t("span",la,p(le.value),1),e[25]||(e[25]=t("span",{class:"stat-label"},"En lactancia",-1))])])])]),t("section",ra,[t("div",na,[t("div",ca,[(g(),P(He,null,qe(de,a=>t("button",{key:a.id,class:T(["tab-button",{active:D.value===a.id}]),onClick:l=>D.value=a.id},[(g(),We(Je(a.icon),{class:"tab-icon"})),z(" "+p(a.label),1)],10,da)),64))]),t("div",ua,[D.value==="servicio"?(g(),P("div",pa,[n(c(H),{title:"Registro de Servicio",subtitle:"Registra servicios naturales o inseminación artificial",layout:"three",loading:S.value,"is-valid":re.value,"submit-text":"Registrar Servicio",onSubmit:Pe},{default:u(()=>[n(c(d),{modelValue:r.idhembra,"onUpdate:modelValue":e[0]||(e[0]=a=>r.idhembra=a),label:"Hembra",type:"select",options:ee.value,error:C.idhembra,required:"",help:"Selecciona la hembra a servir"},null,8,["modelValue","options","error"]),n(c(d),{modelValue:r.fecha,"onUpdate:modelValue":e[1]||(e[1]=a=>r.fecha=a),label:"Fecha del Servicio",type:"date",max:b.value,error:C.fecha,required:""},null,8,["modelValue","max","error"]),n(c(d),{modelValue:r.tipoServicio,"onUpdate:modelValue":e[2]||(e[2]=a=>r.tipoServicio=a),label:"Tipo de Servicio",type:"select",options:ue,error:C.tipoServicio,required:""},null,8,["modelValue","error"]),n(c(d),{modelValue:r.macho,"onUpdate:modelValue":e[3]||(e[3]=a=>r.macho=a),label:"Macho/Semen",help:"Identificación del macho o código de semen"},null,8,["modelValue"]),n(c(d),{modelValue:r.observaciones,"onUpdate:modelValue":e[4]||(e[4]=a=>r.observaciones=a),label:"Observaciones",type:"textarea",rows:2,help:"Notas sobre el servicio"},null,8,["modelValue"]),n(c(d),{modelValue:r.fechaPalpacion,"onUpdate:modelValue":e[5]||(e[5]=a=>r.fechaPalpacion=a),label:"Fecha Palpación Estimada",type:"date",min:Ae(r.fecha),help:"Fecha estimada para palpación (60 días después)"},null,8,["modelValue","min"])]),_:1},8,["loading","is-valid"])])):R("",!0),D.value==="palpacion"?(g(),P("div",ma,[n(c(H),{title:"Registro de Palpación",subtitle:"Confirma gestaciones y fechas estimadas de parto",layout:"three",loading:S.value,"is-valid":ne.value,"submit-text":"Registrar Palpación",onSubmit:Se},{default:u(()=>[n(c(d),{modelValue:s.idhembra,"onUpdate:modelValue":e[6]||(e[6]=a=>s.idhembra=a),label:"Hembra",type:"select",options:ae.value,error:y.idhembra,required:"",help:"Hembra con servicio registrado"},null,8,["modelValue","options","error"]),n(c(d),{modelValue:s.fecha,"onUpdate:modelValue":e[7]||(e[7]=a=>s.fecha=a),label:"Fecha de Palpación",type:"date",max:b.value,error:y.fecha,required:""},null,8,["modelValue","max","error"]),n(c(d),{modelValue:s.resultado,"onUpdate:modelValue":e[8]||(e[8]=a=>s.resultado=a),label:"Resultado",type:"select",options:pe,error:y.resultado,required:""},null,8,["modelValue","error"]),n(c(d),{modelValue:s.fechaParto,"onUpdate:modelValue":e[9]||(e[9]=a=>s.fechaParto=a),label:"Fecha Estimada de Parto",type:"date",min:b.value,help:"Solo si resultado es positivo",disabled:s.resultado!=="Positiva"},null,8,["modelValue","min","disabled"]),n(c(d),{modelValue:s.observaciones,"onUpdate:modelValue":e[10]||(e[10]=a=>s.observaciones=a),label:"Observaciones",type:"textarea",rows:2,help:"Notas del veterinario"},null,8,["modelValue"])]),_:1},8,["loading","is-valid"])])):R("",!0),D.value==="parto"?(g(),P("div",va,[n(c(H),{title:"Registro de Parto",subtitle:"Registra nacimientos y datos de las crías",layout:"three",loading:S.value,"is-valid":ce.value,"submit-text":"Registrar Parto",onSubmit:Ve},{default:u(()=>[n(c(d),{modelValue:i.idhembra,"onUpdate:modelValue":e[11]||(e[11]=a=>i.idhembra=a),label:"Hembra",type:"select",options:oe.value,error:k.idhembra,required:"",help:"Hembra gestante"},null,8,["modelValue","options","error"]),n(c(d),{modelValue:i.fecha,"onUpdate:modelValue":e[12]||(e[12]=a=>i.fecha=a),label:"Fecha del Parto",type:"date",max:b.value,error:k.fecha,required:""},null,8,["modelValue","max","error"]),n(c(d),{modelValue:i.tipoParto,"onUpdate:modelValue":e[13]||(e[13]=a=>i.tipoParto=a),label:"Tipo de Parto",type:"select",options:me,required:""},null,8,["modelValue"]),n(c(d),{modelValue:i.numeroCrias,"onUpdate:modelValue":e[14]||(e[14]=a=>i.numeroCrias=a),label:"Número de Crías",type:"number",min:"1",max:"5",error:k.numeroCrias,required:""},null,8,["modelValue","error"]),n(c(d),{modelValue:i.sexoCria,"onUpdate:modelValue":e[15]||(e[15]=a=>i.sexoCria=a),label:"Sexo de la Cría",type:"select",options:ve,help:"Solo para partos simples",disabled:parseInt(i.numeroCrias)!==1},null,8,["modelValue","disabled"]),n(c(d),{modelValue:i.pesoCria,"onUpdate:modelValue":e[16]||(e[16]=a=>i.pesoCria=a),label:"Peso de la Cría (kg)",type:"number",min:"0",step:"0.1",help:"Peso al nacer"},null,8,["modelValue"]),n(c(d),{modelValue:i.observaciones,"onUpdate:modelValue":e[17]||(e[17]=a=>i.observaciones=a),label:"Observaciones",type:"textarea",rows:3,help:"Detalles del parto y estado de madre/cría"},null,8,["modelValue"]),n(c(d),{modelValue:i.complicaciones,"onUpdate:modelValue":e[18]||(e[18]=a=>i.complicaciones=a),label:"Complicaciones",type:"select",options:he},null,8,["modelValue"])]),_:1},8,["loading","is-valid"])])):R("",!0)])])]),n(c(Y),{data:te.value,columns:be,loading:L.value,title:"Historial Reproductivo","empty-title":"Sin registros reproductivos","empty-message":"No hay servicios o partos registrados. Comienza registrando servicios para controlar la reproducción.","page-size":15,"search-placeholder":"Buscar por animal, fecha o tipo..."},{actions:u(()=>[t("div",ha,[Q(t("select",{"onUpdate:modelValue":e[19]||(e[19]=a=>I.value=a),class:"filter-select"},[...e[27]||(e[27]=[t("option",{value:""},"Todos los registros",-1),t("option",{value:"servicio"},"Solo Servicios",-1),t("option",{value:"palpacion"},"Solo Palpaciones",-1),t("option",{value:"parto"},"Solo Partos",-1)])],512),[[X,I.value]]),Q(t("select",{"onUpdate:modelValue":e[20]||(e[20]=a=>O.value=a),class:"filter-select"},[...e[28]||(e[28]=[t("option",{value:""},"Todos los estados",-1),t("option",{value:"pendiente"},"Pendientes",-1),t("option",{value:"positivo"},"Gestantes",-1),t("option",{value:"completado"},"Completados",-1)])],512),[[X,O.value]])]),t("button",{class:"btn btn-outline",onClick:ze},[...e[29]||(e[29]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),z(" Reporte Reproductivo ",-1)])]),t("button",{class:"btn btn-outline",onClick:G},[...e[30]||(e[30]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),z(" Actualizar ",-1)])])]),"cell-animal":u(({item:a})=>[t("div",ba,[t("span",fa,p(E(a.idhembra||a.idganado)),1),t("small",ga,"ID: "+p(a.idhembra||a.idganado),1)])]),"cell-fecha":u(({value:a})=>[z(p($(a)),1)]),"cell-tipo":u(({item:a})=>[t("span",{class:T(["type-badge",Ee(a.tipo)])},p(a.tipo),3)]),"cell-estado":u(({item:a})=>[t("span",{class:T(["status-badge",Le(a.estado)])},p(a.estado),3)]),"cell-fechaEstimada":u(({value:a})=>[a?(g(),P("span",{key:0,class:T(["estimated-date",{"near-date":Ue(a)}])},p($(a)),3)):(g(),P("span",Ca,"-"))]),"row-actions":u(({item:a})=>[a.tipo==="Servicio"&&!a.palpacionRealizada?(g(),P("button",{key:0,class:"btn btn-success btn-sm",onClick:l=>Me(a),title:"Registrar palpación"},[...e[31]||(e[31]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,ya)):R("",!0),a.gestante&&!a.partoRealizado?(g(),P("button",{key:1,class:"btn btn-primary btn-sm",onClick:l=>Re(a),title:"Registrar parto"},[...e[32]||(e[32]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,ka)):R("",!0),t("button",{class:"btn btn-outline btn-sm",onClick:l=>Ne(a),title:"Ver historial completo"},[...e[33]||(e[33]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Pa)]),"empty-actions":u(()=>[t("button",{class:"btn btn-primary",onClick:e[21]||(e[21]=a=>D.value="servicio")}," Registrar Primer Servicio ")]),_:1},8,["data","loading"]),t("section",Sa,[t("header",{class:"section-header"},[e[34]||(e[34]=t("div",null,[t("h2",{class:"section-title"},"Seguimiento de Lactancia"),t("p",{class:"section-subtitle"},"Control de crías en período de lactancia y destete")],-1)),t("button",{class:"btn btn-outline",onClick:Fe}," Programar Destete ")]),n(c(Y),{data:N.value,columns:fe,loading:q.value,title:"","show-header":!1,"empty-title":"Sin crías en lactancia","empty-message":"No hay crías en período de lactancia actualmente.","page-size":10},{"cell-madre":u(({item:a})=>[z(p(E(a.idmadre)),1)]),"cell-cria":u(({item:a})=>[t("div",Va,[t("span",wa,p(a.nombreCria||`Cría ${a.idcria}`),1),t("small",Da,p(a.sexo)+" - "+p($(a.fechaNacimiento)),1)])]),"cell-edad":u(({item:a})=>[z(p(_(a.fechaNacimiento))+" días ",1)]),"cell-pesoActual":u(({value:a})=>[t("span",xa,p(a||"-")+" kg",1)]),"cell-estadoLactancia":u(({item:a})=>[t("span",{class:T(["lactation-badge",$e(a)])},p(W(a)),3)]),"row-actions":u(({item:a})=>[t("button",{class:"btn btn-outline btn-sm",onClick:l=>Ie(a),title:"Actualizar peso"},[...e[35]||(e[35]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,Ma),a.fechaDestete?R("",!0):(g(),P("button",{key:0,class:"btn btn-warning btn-sm",onClick:l=>Oe(a),title:"Realizar destete"},[...e[36]||(e[36]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)])],8,Ra))]),_:1},8,["data","loading"])]),n(c(Ke),{modelValue:U.open,"onUpdate:modelValue":e[22]||(e[22]=a=>U.open=a),title:"Calendario Reproductivo",subtitle:"Próximos eventos reproductivos programados",size:"xl","show-footer":"","show-confirm":!1,"cancel-text":"Cerrar",onCancel:Te},{default:u(()=>[...e[37]||(e[37]=[t("div",{class:"calendar-placeholder"},[t("p",null,"Calendario reproductivo - Funcionalidad en desarrollo")],-1)])]),_:1},8,["modelValue"])]))}},Oa=Qe(za,[["__scopeId","data-v-41501851"]]);export{Oa as default};
