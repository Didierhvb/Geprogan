import{u as Se,f as k,g as x,x as C,h as Ae,c as g,o as V,a as t,d as l,t as m,w as u,D as i,k as Fe,l as Pe,q as ze,n as T,e as D,F as Ue,i as He}from"./index-Na7mEAWg.js";import{B as $,a as Z,b as N,c as s}from"./BaseModal-BXVtofVG.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Be={class:"sanidad-container"},$e={class:"surface-panel"},Ne={class:"header-section"},Re={class:"header-stats"},je={class:"stat-item"},Ee={class:"stat-value"},qe={class:"stat-item"},Ie={class:"stat-value"},Le={class:"surface-panel"},Ge={class:"animal-info"},_e={class:"animal-name"},Je={class:"animal-id"},Ze={key:1,class:"no-date"},Ke=["onClick"],Qe=["onClick"],We=["onClick"],Xe={class:"surface-panel"},Ye={class:"content-badge"},eo=["onClick"],oo=["onClick"],ao={class:"calendar-content"},to={class:"calendar-filters"},no={class:"calendar-events"},lo={key:0,class:"no-events"},io={key:1,class:"events-list"},so={class:"event-date"},ro={class:"day"},co={class:"month"},uo={class:"event-content"},mo={class:"event-title"},po={class:"event-animal"},bo={class:"event-description"},vo={class:"event-actions"},fo=["onClick"],ho={__name:"SanidadView",setup(go){const{token:K}=Se(),{pushToast:p}=Pe(),H=k(!0),R=k(!0),v=k(!1),h=k([]),y=k([]),w=k([]),O=k([]),A=x(()=>new Date().toISOString().split("T")[0]),Q=x(()=>w.value.map(a=>({value:a.id,label:`${a.nombre||`Animal ${a.id}`} - ${a.raza||"Sin raza"}`}))),j=x(()=>y.value.map(a=>({value:a.id,label:`${a.nombre} - ${a.contenido||""}`}))),W=x(()=>{const a=new Date().toISOString().split("T")[0];return h.value.filter(o=>o.fecha===a).length}),X=x(()=>{const a=new Date,o=new Date;return o.setMonth(o.getMonth()+1),h.value.filter(e=>{if(!e.proximaFecha)return!1;const c=new Date(e.proximaFecha);return c>=a&&c<=o}).length}),Y=x(()=>n.idganado&&n.fecha&&n.tipoTratamiento&&n.descripcion),S=[{value:"Vacunación",label:"Vacunación"},{value:"Desparasitación",label:"Desparasitación"},{value:"Antibiótico",label:"Tratamiento con Antibiótico"},{value:"Vitaminas",label:"Aplicación de Vitaminas"},{value:"Antiinflamatorio",label:"Antiinflamatorio"},{value:"Cicatrizante",label:"Tratamiento Cicatrizante"},{value:"Preventivo",label:"Tratamiento Preventivo"},{value:"Curativo",label:"Tratamiento Curativo"},{value:"Otro",label:"Otro Tratamiento"}],ee=[{value:"Vacuna",label:"Vacuna"},{value:"Antibiótico",label:"Antibiótico"},{value:"Desparasitante",label:"Desparasitante"},{value:"Vitamina",label:"Vitamina/Suplemento"},{value:"Antiinflamatorio",label:"Antiinflamatorio"},{value:"Cicatrizante",label:"Cicatrizante"},{value:"Anestésico",label:"Anestésico"},{value:"Otro",label:"Otro"}],oe=[{value:"ml",label:"Mililitros (ml)"},{value:"cc",label:"Centímetros cúbicos (cc)"},{value:"dosis",label:"Dosis"},{value:"unidad",label:"Unidad"},{value:"gramos",label:"Gramos"},{value:"comprimidos",label:"Comprimidos"}],ae=[{value:0,label:"Enero"},{value:1,label:"Febrero"},{value:2,label:"Marzo"},{value:3,label:"Abril"},{value:4,label:"Mayo"},{value:5,label:"Junio"},{value:6,label:"Julio"},{value:7,label:"Agosto"},{value:8,label:"Septiembre"},{value:9,label:"Octubre"},{value:10,label:"Noviembre"},{value:11,label:"Diciembre"}],n=C({idganado:"",fecha:A.value,tipoTratamiento:"",producto:"",descripcion:"",dosis:"",observaciones:"",proximaFecha:""}),b=C({idganado:"",fecha:"",tipoTratamiento:"",descripcion:""}),r=C({open:!1,id:null,form:{fecha:"",tipoTratamiento:"",producto:"",descripcion:"",dosis:"",observaciones:"",proximaFecha:""}}),d=C({open:!1,form:{nombre:"",tipo:"",contenido:"",unidad:"ml",stock:0,stockMinimo:5,laboratorio:"",observaciones:""}}),F=C({open:!1}),P=C({mes:new Date().getMonth(),tipo:""}),te=[{key:"animal",label:"Animal"},{key:"fecha",label:"Fecha",sortable:!0},{key:"tipo",label:"Tratamiento",sortable:!0},{key:"producto",label:"Producto"},{key:"descripcion",label:"Descripción"},{key:"proximaFecha",label:"Próxima Dosis"},{key:"estado",label:"Estado"}],ne=[{key:"nombre",label:"Producto",sortable:!0},{key:"tipo",label:"Tipo",sortable:!0},{key:"contenido",label:"Contenido"},{key:"stock",label:"Stock Actual"},{key:"laboratorio",label:"Laboratorio"}];async function E(){H.value=!0;try{const a=K.value,o=await Fe.list(a);w.value=o.map(e=>({id:e.idganado||e.id,nombre:e.nombreGanado||e.nombre,raza:e.raza})),await le()}catch(a){p(a.message||"Error al cargar datos sanitarios","error")}finally{H.value=!1}}async function le(){const a=[],o=w.value.slice(0,5);for(let c=0;c<15;c++){const f=o[Math.floor(Math.random()*o.length)],M=new Date;M.setDate(M.getDate()-Math.floor(Math.random()*90));const U=S.map(De=>De.value),J=U[Math.floor(Math.random()*U.length)];a.push({id:c+1,idganado:(f==null?void 0:f.id)||1,fecha:M.toISOString().split("T")[0],tipoTratamiento:J,producto:Math.floor(Math.random()*5)+1,descripcion:`${J} de rutina`,dosis:`${(Math.random()*10+5).toFixed(1)} ml`,observaciones:Math.random()>.5?"Aplicado sin complicaciones":"",proximaFecha:Math.random()>.6?new Date(Date.now()+Math.random()*60*24*60*60*1e3).toISOString().split("T")[0]:null})}h.value=a.sort((c,f)=>new Date(f.fecha)-new Date(c.fecha));const e=[{id:1,nombre:"Vacuna Triple",tipo:"Vacuna",contenido:"50ml",laboratorio:"Zoetis",stock:10,stockMinimo:5,unidad:"ml"},{id:2,nombre:"Ivermectina",tipo:"Desparasitante",contenido:"100ml",laboratorio:"MSD",stock:3,stockMinimo:5,unidad:"ml"},{id:3,nombre:"Penicilina",tipo:"Antibiótico",contenido:"50ml",laboratorio:"Pfizer",stock:8,stockMinimo:3,unidad:"ml"},{id:4,nombre:"Complejo B",tipo:"Vitamina",contenido:"100ml",laboratorio:"Bayer",stock:15,stockMinimo:10,unidad:"ml"},{id:5,nombre:"Antiinflamatorio",tipo:"Antiinflamatorio",contenido:"50ml",laboratorio:"Virbac",stock:6,stockMinimo:5,unidad:"ml"}];y.value=e,R.value=!1,ie()}function ie(){const a=[],o=new Date;for(let e=0;e<10;e++){const c=new Date(o);c.setDate(c.getDate()+Math.floor(Math.random()*30));const f=w.value[Math.floor(Math.random()*w.value.length)],M=S.map(U=>U.value);a.push({id:e+1,idganado:(f==null?void 0:f.id)||1,fecha:c.toISOString().split("T")[0],tipo:M[Math.floor(Math.random()*M.length)],descripcion:"Tratamiento programado"})}O.value=a.sort((e,c)=>new Date(e.fecha)-new Date(c.fecha))}function se(){return b.idganado=n.idganado?"":"Selecciona un animal",b.fecha=n.fecha?"":"Ingresa la fecha",b.tipoTratamiento=n.tipoTratamiento?"":"Selecciona el tipo de tratamiento",b.descripcion=n.descripcion?"":"Describe el tratamiento",!b.idganado&&!b.fecha&&!b.tipoTratamiento&&!b.descripcion}async function re(){if(se()){v.value=!0;try{const a={id:h.value.length+1,idganado:parseInt(n.idganado),fecha:n.fecha,tipoTratamiento:n.tipoTratamiento,producto:n.producto?parseInt(n.producto):null,descripcion:n.descripcion,dosis:n.dosis||"",observaciones:n.observaciones||"",proximaFecha:n.proximaFecha||null};h.value.unshift(a),p("Tratamiento registrado exitosamente","success"),q()}catch(a){p(a.message||"Error al registrar tratamiento","error")}finally{v.value=!1}}}function q(){Object.assign(n,{idganado:"",fecha:A.value,tipoTratamiento:"",producto:"",descripcion:"",dosis:"",observaciones:"",proximaFecha:""}),Object.assign(b,{idganado:"",fecha:"",tipoTratamiento:"",descripcion:""})}function de(a){r.open=!0,r.id=a.id,Object.assign(r.form,a)}function I(){r.open=!1,r.id=null}async function ce(){v.value=!0;try{const a=h.value.findIndex(o=>o.id===r.id);a!==-1&&Object.assign(h.value[a],r.form),p("Registro actualizado exitosamente","success"),I()}catch(a){p(a.message||"Error al actualizar registro","error")}finally{v.value=!1}}function L(){d.open=!0}function G(){d.open=!1,Object.assign(d.form,{nombre:"",tipo:"",contenido:"",unidad:"ml",stock:0,stockMinimo:5,laboratorio:"",observaciones:""})}async function ue(){v.value=!0;try{const a={id:y.value.length+1,...d.form};y.value.unshift(a),p("Producto creado exitosamente","success"),G()}catch(a){p(a.message||"Error al crear producto","error")}finally{v.value=!1}}function me(){F.open=!0}function pe(){F.open=!1}function be(){p("Generando reporte sanitario...","info"),setTimeout(()=>{p("Reporte sanitario generado exitosamente","success")},1500)}function ve(a){p(`Ver historial sanitario completo - Animal ${a.idganado}`,"info")}function fe(a){p(`Programar siguiente tratamiento para ${B(a.proximaFecha)}`,"info")}function he(a){p("Marcando tratamiento como realizado...","success")}function ge(a){p(`Editar producto: ${a.nombre}`,"info")}function Ve(a){p(`Actualizar stock de: ${a.nombre}`,"info")}function _(a){const o=w.value.find(e=>e.id===a);return o?o.nombre||`Animal ${a}`:`Animal ${a}`}function ke(a){if(!a)return"-";const o=y.value.find(e=>e.id===a);return o?o.nombre:`Producto ${a}`}function B(a){if(!a)return"-";try{return new Date(a).toLocaleDateString("es-ES")}catch{return a}}function ye(a){return{Vacunación:"treatment-vaccine",Desparasitación:"treatment-deworming",Antibiótico:"treatment-antibiotic",Vitaminas:"treatment-vitamin",Antiinflamatorio:"treatment-anti-inflammatory"}[a]||"treatment-other"}function we(a){return{Vacuna:"product-vaccine",Antibiótico:"product-antibiotic",Desparasitante:"product-deworming",Vitamina:"product-vitamin"}[a]||"product-other"}function Me(a,o){return a<=o?"stock-low":a<=o*2?"stock-medium":"stock-good"}function xe(a){return a.proximaFecha&&z(a.proximaFecha)?"status-overdue":a.proximaFecha?"status-scheduled":"status-completed"}function Ce(a){return a.proximaFecha&&z(a.proximaFecha)?"Vencido":a.proximaFecha?"Programado":"Completado"}function z(a){return new Date(a)<new Date}function Te(a){return["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][a]}return Ae(()=>{E()}),(a,o)=>(V(),g("div",Be,[t("section",$e,[t("div",Ne,[o[30]||(o[30]=t("div",{class:"header-content"},[t("div",{class:"stat-chip"},"Control sanitario"),t("h1",{class:"hero-title"},"Gestión de Sanidad"),t("p",{class:"hero-subtitle"}," Controla vacunaciones, tratamientos médicos y el historial sanitario completo de tu ganado. ")],-1)),t("div",Re,[t("div",je,[t("span",Ee,m(W.value),1),o[28]||(o[28]=t("span",{class:"stat-label"},"Tratamientos hoy",-1))]),t("div",qe,[t("span",Ie,m(X.value),1),o[29]||(o[29]=t("span",{class:"stat-label"},"Vacunas pendientes",-1))])])])]),t("section",Le,[l(i($),{title:"Registro Sanitario Rápido",subtitle:"Registra tratamientos, vacunas y observaciones médicas",layout:"three",loading:v.value,"is-valid":Y.value,"submit-text":"Registrar Tratamiento",onSubmit:re},{default:u(()=>[l(i(s),{modelValue:n.idganado,"onUpdate:modelValue":o[0]||(o[0]=e=>n.idganado=e),label:"Animal",type:"select",options:Q.value,error:b.idganado,required:"",help:"Selecciona el animal a tratar"},null,8,["modelValue","options","error"]),l(i(s),{modelValue:n.fecha,"onUpdate:modelValue":o[1]||(o[1]=e=>n.fecha=e),label:"Fecha del Tratamiento",type:"date",max:A.value,error:b.fecha,required:""},null,8,["modelValue","max","error"]),l(i(s),{modelValue:n.tipoTratamiento,"onUpdate:modelValue":o[2]||(o[2]=e=>n.tipoTratamiento=e),label:"Tipo de Tratamiento",type:"select",options:S,error:b.tipoTratamiento,required:""},null,8,["modelValue","error"]),l(i(s),{modelValue:n.producto,"onUpdate:modelValue":o[3]||(o[3]=e=>n.producto=e),label:"Producto/Medicamento",type:"select",options:j.value,help:"Selecciona el producto aplicado"},null,8,["modelValue","options"]),l(i(s),{modelValue:n.descripcion,"onUpdate:modelValue":o[4]||(o[4]=e=>n.descripcion=e),label:"Descripción del Tratamiento",error:b.descripcion,required:"",help:"Describe brevemente el tratamiento"},null,8,["modelValue","error"]),l(i(s),{modelValue:n.dosis,"onUpdate:modelValue":o[5]||(o[5]=e=>n.dosis=e),label:"Dosis Aplicada",help:"Cantidad de producto aplicado (ml, cc, etc.)"},null,8,["modelValue"]),l(i(s),{modelValue:n.observaciones,"onUpdate:modelValue":o[6]||(o[6]=e=>n.observaciones=e),label:"Observaciones Médicas",type:"textarea",rows:2,help:"Notas adicionales del veterinario"},null,8,["modelValue"]),l(i(s),{modelValue:n.proximaFecha,"onUpdate:modelValue":o[7]||(o[7]=e=>n.proximaFecha=e),label:"Próxima Aplicación",type:"date",min:n.fecha,help:"Fecha de la próxima dosis (opcional)"},null,8,["modelValue","min"])]),_:1},8,["loading","is-valid"])]),l(i(Z),{data:h.value,columns:te,loading:H.value,title:"Historial Sanitario","empty-title":"Sin registros sanitarios","empty-message":"No hay tratamientos registrados. Comienza registrando vacunas y tratamientos médicos.","page-size":15,"search-placeholder":"Buscar por animal, tratamiento o producto..."},{actions:u(()=>[t("button",{class:"btn btn-outline",onClick:me},[...o[31]||(o[31]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),D(" Calendario Sanitario ",-1)])]),t("button",{class:"btn btn-outline",onClick:be},[...o[32]||(o[32]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),D(" Reporte Sanitario ",-1)])]),t("button",{class:"btn btn-primary",onClick:L},[...o[33]||(o[33]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),D(" Nuevo Producto ",-1)])]),t("button",{class:"btn btn-outline",onClick:E},[...o[34]||(o[34]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),D(" Actualizar ",-1)])])]),"cell-animal":u(({item:e})=>[t("div",Ge,[t("span",_e,m(_(e.idganado)),1),t("small",Je,"ID: "+m(e.idganado),1)])]),"cell-fecha":u(({value:e})=>[D(m(B(e)),1)]),"cell-tipo":u(({value:e})=>[t("span",{class:T(["treatment-badge",ye(e)])},m(e),3)]),"cell-producto":u(({item:e})=>[D(m(ke(e.producto)),1)]),"cell-estado":u(({item:e})=>[t("span",{class:T(["status-badge",xe(e)])},m(Ce(e)),3)]),"cell-proximaFecha":u(({value:e})=>[e?(V(),g("span",{key:0,class:T(["next-date",{overdue:z(e)}])},m(B(e)),3)):(V(),g("span",Ze,"-"))]),"row-actions":u(({item:e})=>[t("button",{class:"btn btn-outline btn-sm",onClick:c=>ve(e),title:"Ver historial completo"},[...o[35]||(o[35]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,Ke),t("button",{class:"btn btn-outline btn-sm",onClick:c=>de(e),title:"Editar tratamiento"},[...o[36]||(o[36]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Qe),e.proximaFecha?(V(),g("button",{key:0,class:"btn btn-success btn-sm",onClick:c=>fe(e),title:"Programar siguiente dosis"},[...o[37]||(o[37]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,We)):ze("",!0)]),"empty-actions":u(()=>[t("button",{class:"btn btn-primary",onClick:q}," Registrar Primer Tratamiento ")]),_:1},8,["data","loading"]),t("section",Xe,[t("header",{class:"section-header"},[o[38]||(o[38]=t("div",null,[t("h2",{class:"section-title"},"Productos de Sanidad"),t("p",{class:"section-subtitle"},"Gestiona el inventario de medicamentos y vacunas")],-1)),t("button",{class:"btn btn-outline",onClick:L}," Nuevo Producto ")]),l(i(Z),{data:y.value,columns:ne,loading:R.value,title:"","show-header":!1,"empty-title":"Sin productos registrados","empty-message":"No hay productos de sanidad registrados. Agrega medicamentos y vacunas a tu inventario.","page-size":10},{"cell-contenido":u(({value:e})=>[t("span",Ye,m(e),1)]),"cell-tipo":u(({value:e})=>[t("span",{class:T(["product-type-badge",we(e)])},m(e),3)]),"cell-stock":u(({item:e})=>[t("span",{class:T(["stock-badge",Me(e.stock,e.stockMinimo)])},m(e.stock||0)+" "+m(e.unidad||"unid."),3)]),"row-actions":u(({item:e})=>[t("button",{class:"btn btn-outline btn-sm",onClick:c=>ge(e),title:"Editar producto"},[...o[39]||(o[39]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,eo),t("button",{class:"btn btn-success btn-sm",onClick:c=>Ve(e),title:"Actualizar stock"},[...o[40]||(o[40]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,oo)]),_:1},8,["data","loading"])]),l(i(N),{modelValue:r.open,"onUpdate:modelValue":o[15]||(o[15]=e=>r.open=e),title:"Editar Registro Sanitario",subtitle:"Modifica los datos del tratamiento",size:"lg","show-footer":"",loading:v.value,onConfirm:ce,onCancel:I,"confirm-text":"Actualizar"},{default:u(()=>[l(i($),{layout:"two","show-actions":!1},{default:u(()=>[l(i(s),{modelValue:r.form.fecha,"onUpdate:modelValue":o[8]||(o[8]=e=>r.form.fecha=e),label:"Fecha del Tratamiento",type:"date",max:A.value,required:""},null,8,["modelValue","max"]),l(i(s),{modelValue:r.form.tipoTratamiento,"onUpdate:modelValue":o[9]||(o[9]=e=>r.form.tipoTratamiento=e),label:"Tipo de Tratamiento",type:"select",options:S,required:""},null,8,["modelValue"]),l(i(s),{modelValue:r.form.producto,"onUpdate:modelValue":o[10]||(o[10]=e=>r.form.producto=e),label:"Producto/Medicamento",type:"select",options:j.value},null,8,["modelValue","options"]),l(i(s),{modelValue:r.form.dosis,"onUpdate:modelValue":o[11]||(o[11]=e=>r.form.dosis=e),label:"Dosis Aplicada"},null,8,["modelValue"]),l(i(s),{modelValue:r.form.descripcion,"onUpdate:modelValue":o[12]||(o[12]=e=>r.form.descripcion=e),label:"Descripción del Tratamiento",required:""},null,8,["modelValue"]),l(i(s),{modelValue:r.form.proximaFecha,"onUpdate:modelValue":o[13]||(o[13]=e=>r.form.proximaFecha=e),label:"Próxima Aplicación",type:"date",min:r.form.fecha},null,8,["modelValue","min"]),l(i(s),{modelValue:r.form.observaciones,"onUpdate:modelValue":o[14]||(o[14]=e=>r.form.observaciones=e),label:"Observaciones Médicas",type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","loading"]),l(i(N),{modelValue:d.open,"onUpdate:modelValue":o[24]||(o[24]=e=>d.open=e),title:"Nuevo Producto de Sanidad",subtitle:"Agregar medicamento o vacuna al inventario",size:"md","show-footer":"",loading:v.value,onConfirm:ue,onCancel:G,"confirm-text":"Crear Producto"},{default:u(()=>[l(i($),{layout:"two","show-actions":!1},{default:u(()=>[l(i(s),{modelValue:d.form.nombre,"onUpdate:modelValue":o[16]||(o[16]=e=>d.form.nombre=e),label:"Nombre del Producto",required:"",help:"Nombre comercial del medicamento/vacuna"},null,8,["modelValue"]),l(i(s),{modelValue:d.form.tipo,"onUpdate:modelValue":o[17]||(o[17]=e=>d.form.tipo=e),label:"Tipo de Producto",type:"select",options:ee,required:""},null,8,["modelValue"]),l(i(s),{modelValue:d.form.contenido,"onUpdate:modelValue":o[18]||(o[18]=e=>d.form.contenido=e),label:"Contenido",help:"Ej: 50ml, 100cc, 10 dosis"},null,8,["modelValue"]),l(i(s),{modelValue:d.form.unidad,"onUpdate:modelValue":o[19]||(o[19]=e=>d.form.unidad=e),label:"Unidad de Medida",type:"select",options:oe},null,8,["modelValue"]),l(i(s),{modelValue:d.form.stock,"onUpdate:modelValue":o[20]||(o[20]=e=>d.form.stock=e),label:"Stock Inicial",type:"number",min:"0"},null,8,["modelValue"]),l(i(s),{modelValue:d.form.stockMinimo,"onUpdate:modelValue":o[21]||(o[21]=e=>d.form.stockMinimo=e),label:"Stock Mínimo",type:"number",min:"0",help:"Cantidad mínima para alerta"},null,8,["modelValue"]),l(i(s),{modelValue:d.form.laboratorio,"onUpdate:modelValue":o[22]||(o[22]=e=>d.form.laboratorio=e),label:"Laboratorio",help:"Fabricante del producto"},null,8,["modelValue"]),l(i(s),{modelValue:d.form.observaciones,"onUpdate:modelValue":o[23]||(o[23]=e=>d.form.observaciones=e),label:"Observaciones",type:"textarea",rows:2},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","loading"]),l(i(N),{modelValue:F.open,"onUpdate:modelValue":o[27]||(o[27]=e=>F.open=e),title:"Calendario Sanitario",subtitle:"Próximos tratamientos y vacunaciones programadas",size:"xl","show-footer":"","show-confirm":!1,"cancel-text":"Cerrar",onCancel:pe},{default:u(()=>[t("div",ao,[t("div",to,[l(i(s),{modelValue:P.mes,"onUpdate:modelValue":o[25]||(o[25]=e=>P.mes=e),label:"Mes",type:"select",options:ae},null,8,["modelValue"]),l(i(s),{modelValue:P.tipo,"onUpdate:modelValue":o[26]||(o[26]=e=>P.tipo=e),label:"Tipo de Tratamiento",type:"select",options:[{value:"",label:"Todos"},...S]},null,8,["modelValue","options"])]),t("div",no,[O.value.length?(V(),g("div",io,[(V(!0),g(Ue,null,He(O.value,e=>(V(),g("div",{key:e.id,class:T(["event-item",{overdue:z(e.fecha)}])},[t("div",so,[t("span",ro,m(new Date(e.fecha).getDate()),1),t("span",co,m(Te(new Date(e.fecha).getMonth())),1)]),t("div",uo,[t("h4",mo,m(e.tipo),1),t("p",po,m(_(e.idganado)),1),t("p",bo,m(e.descripcion),1)]),t("div",vo,[t("button",{class:"btn btn-primary btn-sm",onClick:c=>he(e)}," Marcar como Realizado ",8,fo)])],2))),128))])):(V(),g("div",lo,[...o[41]||(o[41]=[t("p",null,"No hay tratamientos programados para este período",-1)])]))])])]),_:1},8,["modelValue"])]))}},wo=Oe(ho,[["__scopeId","data-v-9c4b35ae"]]);export{wo as default};
