import{g as k,c as l,o as t,q as i,a as o,t as u,I as $,n as g,e as z,z as F,f as T,F as p,i as M,J as L,j as D,y as E,m as H,d as O,w as G,K as j,L as J,T as Q,M as R}from"./index-Na7mEAWg.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={key:0,class:"form-header"},W={key:0,class:"form-title"},X={key:1,class:"form-subtitle"},Y={key:1,class:"form-actions"},Z=["disabled"],_=["disabled"],ee={key:0,class:"loading-spinner"},te={__name:"BaseForm",props:{title:String,subtitle:String,layout:{type:String,default:"single",validator:e=>["single","two","three","four","auto"].includes(e)},loading:{type:Boolean,default:!1},showActions:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!1},submitText:{type:String,default:"Guardar"},cancelText:{type:String,default:"Cancelar"},loadingText:{type:String,default:"Guardando..."},submitClass:{type:String,default:"btn-primary"},formClass:String,isValid:{type:Boolean,default:!0}},emits:["submit","cancel"],setup(e,{emit:B}){const d=e,f=B,c=k(()=>({single:"form-grid-single",two:"form-grid-two",three:"form-grid-three",four:"form-grid-four",auto:"form-grid-auto"})[d.layout]||"form-grid-single"),b=()=>{!d.loading&&d.isValid&&f("submit")},r=()=>{f("cancel")};return(m,y)=>(t(),l("form",{class:g(["base-form",e.formClass]),onSubmit:F(b,["prevent"]),novalidate:""},[e.title||e.subtitle?(t(),l("header",U,[e.title?(t(),l("h2",W,u(e.title),1)):i("",!0),e.subtitle?(t(),l("p",X,u(e.subtitle),1)):i("",!0)])):i("",!0),o("div",{class:g(["form-content",c.value])},[$(m.$slots,"default",{},void 0,!0)],2),e.showActions?(t(),l("footer",Y,[e.showCancel?(t(),l("button",{key:0,type:"button",class:"btn btn-outline",disabled:e.loading,onClick:r},u(e.cancelText),9,Z)):i("",!0),o("button",{type:"submit",class:g(["btn",e.submitClass]),disabled:e.loading||!e.isValid},[e.loading?(t(),l("span",ee)):i("",!0),z(" "+u(e.loading?e.loadingText:e.submitText),1)],10,_)])):i("",!0)],34))}},tt=q(te,[["__scopeId","data-v-b4ebb20a"]]),le={class:"form-field"},ae={class:"form-label"},se={key:0,class:"required-indicator"},oe=["id","type","placeholder","required","disabled","min","max","step","value"],ne=["id","placeholder","required","disabled","rows","value"],ie=["id","required","disabled","value"],de={value:""},re=["value"],ue={key:3,class:"form-error"},ce={key:4,class:"form-help"},me={__name:"BaseFormField",props:{modelValue:{type:[String,Number,Boolean],default:""},label:{type:String,required:!0},type:{type:String,default:"text",validator:e=>["text","email","password","number","tel","url","date","datetime-local","time","textarea","select"].includes(e)},placeholder:String,required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:String,help:String,options:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],step:[String,Number],rows:{type:Number,default:3}},emits:["update:modelValue","blur"],setup(e,{emit:B}){const d=e,f=B,c=T(`field-${Math.random().toString(36).substr(2,9)}`),b=m=>{let y=m.target.value;d.type==="number"&&(y=y===""?"":Number(y)),f("update:modelValue",y)},r=()=>{f("blur")};return(m,y)=>(t(),l("label",le,[o("span",ae,[z(u(e.label)+" ",1),e.required?(t(),l("span",se,"*")):i("",!0)]),e.type!=="select"&&e.type!=="textarea"?(t(),l("input",{key:0,id:c.value,type:e.type,placeholder:e.placeholder,required:e.required,disabled:e.disabled,min:e.min,max:e.max,step:e.step,class:g(["form-control",{error:!!e.error}]),value:e.modelValue,onInput:b,onBlur:r},null,42,oe)):e.type==="textarea"?(t(),l("textarea",{key:1,id:c.value,placeholder:e.placeholder,required:e.required,disabled:e.disabled,rows:e.rows,class:g(["form-control",{error:!!e.error}]),value:e.modelValue,onInput:b,onBlur:r},null,42,ne)):(t(),l("select",{key:2,id:c.value,required:e.required,disabled:e.disabled,class:g(["form-control",{error:!!e.error}]),value:e.modelValue,onChange:b,onBlur:r},[o("option",de,u(e.placeholder||"Selecciona una opciÃ³n"),1),(t(!0),l(p,null,M(e.options,C=>(t(),l("option",{key:C.value,value:C.value},u(C.label),9,re))),128))],42,ie)),e.error?(t(),l("span",ue,u(e.error),1)):i("",!0),e.help&&!e.error?(t(),l("span",ce,u(e.help),1)):i("",!0)]))}},lt=q(me,[["__scopeId","data-v-71ebb521"]]),fe={class:"base-table-container"},ye={key:0,class:"table-header"},he={class:"table-header-left"},be={key:0,class:"table-title"},ve={key:1,class:"search-container"},ge=["placeholder"],ke={class:"table-header-right"},we={key:1,class:"table-loading"},Ce={key:2,class:"table-empty"},Se={key:3,class:"table-wrapper"},$e={class:"data-table"},Be=["onClick"],xe={key:0,class:"sort-indicator"},Ve={key:0,viewBox:"0 0 20 20",fill:"currentColor"},Te={key:1,viewBox:"0 0 20 20",fill:"currentColor"},pe={key:2,class:"sort-icon-neutral",viewBox:"0 0 20 20",fill:"currentColor"},Me={key:0,class:"table-header-cell actions-column"},ze=["onClick"],qe={key:0,class:"table-cell actions-column"},Ne={class:"action-buttons"},Ie={key:4,class:"table-pagination"},Ae={class:"pagination-info"},Fe={class:"pagination-controls"},Le=["disabled"],Ke={class:"page-numbers"},Pe=["onClick"],De=["disabled"],Ee={__name:"BaseTable",props:{data:{type:Array,default:()=>[]},columns:{type:Array,required:!0},loading:{type:Boolean,default:!1},title:String,showHeader:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0},pageSize:{type:Number,default:10},searchPlaceholder:{type:String,default:"Buscar..."},emptyTitle:{type:String,default:"No hay datos"},emptyMessage:{type:String,default:"No se encontraron registros para mostrar."},rowKey:{type:[String,Function],default:"id"},rowClickable:{type:Boolean,default:!1}},emits:["row-click"],setup(e,{emit:B}){const d=e,f=T(""),c=T(""),b=T("asc"),r=T(1),m=k(()=>{let n=[...d.data];if(f.value){const s=f.value.toLowerCase();n=n.filter(a=>d.columns.some(h=>{const v=x(a,h.key);return String(v).toLowerCase().includes(s)}))}return c.value&&n.sort((s,a)=>{const h=x(s,c.value),v=x(a,c.value);let V=0;return h>v&&(V=1),h<v&&(V=-1),b.value==="desc"?-V:V}),n}),y=k(()=>Math.ceil(m.value.length/d.pageSize)),C=k(()=>{const n=(r.value-1)*d.pageSize,s=n+d.pageSize;return m.value.slice(n,s)}),N=k(()=>m.value.length===0?0:(r.value-1)*d.pageSize+1),I=k(()=>Math.min(r.value*d.pageSize,m.value.length)),S=k(()=>{const s=[],a=[];for(let h=Math.max(2,r.value-2);h<=Math.min(y.value-1,r.value+2);h++)s.push(h);return r.value-2>2?a.push(1,"..."):a.push(1),a.push(...s),r.value+2<y.value-1?a.push("...",y.value):y.value>1&&a.push(y.value),a.filter((h,v,V)=>V.indexOf(h)===v)}),w=n=>{c.value===n?b.value=b.value==="asc"?"desc":"asc":(c.value=n,b.value="asc")},A=n=>{r.value=n},x=(n,s)=>s.split(".").reduce((a,h)=>a==null?void 0:a[h],n),K=(n,s)=>typeof d.rowKey=="function"?d.rowKey(n,s):x(n,d.rowKey)||s,P=(n,s)=>{const a=x(n,s.key);return s.format&&typeof s.format=="function"?s.format(a,n):a};return L(f,()=>{r.value=1}),(n,s)=>(t(),l("div",fe,[e.showHeader?(t(),l("header",ye,[o("div",he,[e.title?(t(),l("h3",be,u(e.title),1)):i("",!0),e.showSearch?(t(),l("div",ve,[D(o("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>f.value=a),type:"text",class:"search-input",placeholder:e.searchPlaceholder},null,8,ge),[[E,f.value]]),s[3]||(s[3]=o("svg",{class:"search-icon",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1))])):i("",!0)]),o("div",ke,[$(n.$slots,"actions",{},void 0,!0)])])):i("",!0),e.loading?(t(),l("div",we,[...s[4]||(s[4]=[o("div",{class:"loading-spinner-large"},null,-1),o("p",null,"Cargando datos...",-1)])])):m.value.length?(t(),l("div",Se,[o("table",$e,[o("thead",null,[o("tr",null,[(t(!0),l(p,null,M(e.columns,a=>(t(),l("th",{key:a.key,class:g(["table-header-cell",{sortable:a.sortable},{sorted:c.value===a.key}]),onClick:h=>a.sortable&&w(a.key)},[z(u(a.label)+" ",1),a.sortable?(t(),l("span",xe,[c.value===a.key&&b.value==="asc"?(t(),l("svg",Ve,[...s[6]||(s[6]=[o("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"},null,-1)])])):c.value===a.key&&b.value==="desc"?(t(),l("svg",Te,[...s[7]||(s[7]=[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])])):(t(),l("svg",pe,[...s[8]||(s[8]=[o("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"},null,-1)])]))])):i("",!0)],10,Be))),128)),e.showActions?(t(),l("th",Me,"Acciones")):i("",!0)])]),o("tbody",null,[(t(!0),l(p,null,M(C.value,(a,h)=>(t(),l("tr",{key:K(a,h),class:g(["table-row",{"row-clickable":e.rowClickable}]),onClick:v=>e.rowClickable&&n.$emit("row-click",a)},[(t(!0),l(p,null,M(e.columns,v=>(t(),l("td",{key:v.key,class:"table-cell"},[$(n.$slots,`cell-${v.key}`,{item:a,value:x(a,v.key),column:v},()=>[z(u(P(a,v)),1)],!0)]))),128)),e.showActions?(t(),l("td",qe,[o("div",Ne,[$(n.$slots,"row-actions",{item:a},void 0,!0)])])):i("",!0)],10,ze))),128))])])])):(t(),l("div",Ce,[s[5]||(s[5]=o("div",{class:"empty-icon"},"ðŸ“Š",-1)),o("h4",null,u(e.emptyTitle),1),o("p",null,u(e.emptyMessage),1),$(n.$slots,"empty-actions",{},void 0,!0)])),e.showPagination&&y.value>1?(t(),l("footer",Ie,[o("div",Ae," Mostrando "+u(N.value)+" - "+u(I.value)+" de "+u(m.value.length)+" registros ",1),o("div",Fe,[o("button",{class:"btn btn-outline btn-sm",disabled:r.value===1,onClick:s[1]||(s[1]=a=>A(r.value-1))}," Anterior ",8,Le),o("div",Ke,[(t(!0),l(p,null,M(S.value,a=>(t(),l("button",{key:a,class:g(["btn","btn-sm",r.value===a?"btn-primary":"btn-outline"]),onClick:h=>A(a)},u(a),11,Pe))),128))]),o("button",{class:"btn btn-outline btn-sm",disabled:r.value===y.value,onClick:s[2]||(s[2]=a=>A(r.value+1))}," Siguiente ",8,De)])])):i("",!0)]))}},at=q(Ee,[["__scopeId","data-v-ce6ad6a6"]]),He=["aria-labelledby","aria-describedby"],Oe={key:0,class:"modal-header"},Ge={class:"modal-title-section"},je=["id"],Je=["id"],Qe={class:"modal-body"},Re={key:1,class:"modal-footer"},Ue={class:"modal-actions"},We=["disabled"],Xe=["disabled"],Ye={key:0,class:"loading-spinner"},Ze={__name:"BaseModal",props:{modelValue:{type:Boolean,default:!1},title:String,subtitle:String,size:{type:String,default:"md",validator:e=>["xs","sm","md","lg","xl","full"].includes(e)},persistent:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{type:String,default:"Cancelar"},confirmText:{type:String,default:"Confirmar"},loadingText:{type:String,default:"Procesando..."},confirmClass:{type:String,default:"btn-primary"},loading:{type:Boolean,default:!1},confirmEnabled:{type:Boolean,default:!0}},emits:["update:modelValue","close","cancel","confirm"],setup(e,{emit:B}){const d=e,f=B,c=k(()=>`modal-title-${Math.random().toString(36).substr(2,9)}`),b=k(()=>`modal-desc-${Math.random().toString(36).substr(2,9)}`),r=k(()=>({xs:"modal-xs",sm:"modal-sm",md:"modal-md",lg:"modal-lg",xl:"modal-xl",full:"modal-full"})[d.size]||"modal-md"),m=()=>{d.loading||(f("update:modelValue",!1),f("close"))},y=()=>{f("cancel"),m()},C=()=>{f("confirm")},N=()=>{d.persistent||m()},I=()=>{d.persistent||m()};return L(()=>d.modelValue,async S=>{if(S){await R();const w=document.querySelector(".modal-container");w&&w.focus()}}),(S,w)=>(t(),H(Q,{to:"body"},[O(J,{name:"modal",appear:""},{default:G(()=>[e.modelValue?(t(),l("div",{key:0,class:g(["modal-overlay",{"modal-persistent":e.persistent}]),onClick:N,onKeydown:j(I,["esc"]),tabindex:"-1"},[o("div",{class:g(["modal-container",r.value]),role:"dialog","aria-labelledby":c.value,"aria-describedby":b.value,onClick:w[0]||(w[0]=F(()=>{},["stop"]))},[e.showHeader?(t(),l("header",Oe,[o("div",Ge,[o("h3",{id:c.value,class:"modal-title"},u(e.title),9,je),e.subtitle?(t(),l("p",{key:0,id:b.value,class:"modal-subtitle"},u(e.subtitle),9,Je)):i("",!0)]),e.showClose?(t(),l("button",{key:0,type:"button",class:"modal-close-btn",onClick:m,"aria-label":"Cerrar modal"},[...w[1]||(w[1]=[o("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])):i("",!0)])):i("",!0),o("main",Qe,[$(S.$slots,"default",{},void 0,!0)]),e.showFooter?(t(),l("footer",Re,[$(S.$slots,"footer",{},()=>[o("div",Ue,[e.showCancel?(t(),l("button",{key:0,type:"button",class:"btn btn-outline",disabled:e.loading,onClick:y},u(e.cancelText),9,We)):i("",!0),e.showConfirm?(t(),l("button",{key:1,type:"button",class:g(["btn",e.confirmClass]),disabled:e.loading||!e.confirmEnabled,onClick:C},[e.loading?(t(),l("span",Ye)):i("",!0),z(" "+u(e.loading?e.loadingText:e.confirmText),1)],10,Xe)):i("",!0)])],!0)])):i("",!0)],10,He)],34)):i("",!0)]),_:3})]))}},st=q(Ze,[["__scopeId","data-v-4f1dabc3"]]);export{tt as B,at as a,st as b,lt as c};
